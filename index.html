<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Elections</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">

    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/scrollama/3.2.0/scrollama.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.3.0/d3.min.js"></script>

    <link rel="stylesheet" href="css/scrolly-styles.css">
    <!-- <link rel="stylesheet" href="css/reset.css"> -->

<style>
  .body {
        text-rendering: optimizeLegibility;
        font-size: 20px;
    }
    .header {
        height: 100vh;
        width: 100%;
        padding: 0;
    }

    .with-image-bg,
    .with-video-bg {
            position: relative;
            background-size: cover;
            background-position: center;
        }

    .with-image-bg {
            background-image: url("assets/cover.png");
    }

    .video-background {
            position: absolute;
            top: 0;
            width: 100%;
            height: 100%; 
        }

    .video-background video {
            object-fit: cover;
            width: 100%;
            height: 100%;
        }

    .header-text {
        /* background-color: lightcoral; */
        width: 40%;
        margin: 0 auto;
        position: relative;
        top: 60%;
        font-size: 20px;
    }

    .header h1 {
        font-family: 'Playfair Display', serif;
        font-size: 3em;
        padding-bottom: 10px;
        text-align: center;
        color: white;
        text-shadow: 1px 1px 2px black;
    }

    .header h3 {
        font-family: 'Playfair Display', serif;
        font-size: 1em;
        text-align: center;
        padding-bottom: 10px;
        color: white;
        text-shadow: 1px 1px 2px black;
        line-height: 1.3em;
    }

    .header .byline {
        /* background-color: beige; */
        padding: 10px;
        line-height: 1em;
       
    }

    .header .byline p {
        font-family: 'Open Sans', sans-serif;
        font-size: 0.8em;
        color: white;
        text-shadow: 1px 1px 2px black;
        

    }

    .content {
        width: 630px;
        margin: 0 auto;
        padding-top: 20px;
        padding-bottom: 20px;
        position: relative;
    }

    .content p {
        margin-bottom: 20px;
        line-height: 1.3em;
        font-size: 20px;
    }

    /* figure */
    .figure {
    background-color: lightgrey;
    width: 600px;
    margin: 0 auto;
    position: relative;
    }

    .figure video {
        width: 100%;
        display: block;
    }

    .figure .image-container {
    width: 100%;
    background-color: white;
    }

    .figure img {
        width: 100%;
        height: auto;
        display: block;
    }

    .figure figcaption {
        padding: 10px;
    }

    .figure p {
        font-family: 'Open Sans', sans-serif;
        font-size: 0.75em;
        margin: 0 0 5px 0;
        opacity: 0.8;
    }

    .figure span {
        font-size: 1em;
        font-family: 'Open Sans', sans-serif;
        display: block;
    }

    /* play videos */
    .video-container {
    position: relative;
    width: 100%;
    }

    .custom-video {
    width: 100%;
    display: block;
}
    .play-button {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        border: none;
        border-radius: 50%;
        font-size: 24px;
        padding: 20px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .play-button:hover {
        background-color: rgba(0, 0, 0, 0.9);
    }

    /* blockquote */
    .quote {
    max-width: 600px;
    margin: 20px auto;
    background-color: #f9f9f9;
    border-left: 5px solid #ccc;
    padding: 15px 20px;
    }

    .quote blockquote {
        margin: 0;
    }

    .quote p {
        margin: 10px 0;
        line-height: 1.4;
    }

    .quote figcaption {
        margin-top: 10px;
        font-style: italic;
        color: #666;
    }

    .footer {
        background-color: lightblue;
        height: 100px;
        text-align: center;
    }

    .footer p {
        font-family: 'Open Sans', sans-serif;
        font-size: 0.8em;
        padding-top: 50px;
    }  
</style>
</head>

<body>

<!-- scrolly harris-videos -->

    <section id="scrolly-videos" class="scrolly-container">
        <div class="sticky-thing">
          <video src="assets/harris-videos/harris-1.mp4" alt="Cover image" loop muted>
            <source src="" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
        <div class="steps-container">
          <div class="step" id="step1">
            <div>
              <p>It only took hours after President Joe Biden dropped out of the race for videos of his successor and Vice President Kamala to show up on TikTok.</p>
            </div>
          </div>
          <div class="step" id="step2">
            <p>In one of many videos, Harris can be heard rambling.</p>
          </div>
          <div class="step" id="step3">
            <p>More altered videos of Harris started showing up with the hashtag #wordsaladswithkamala.</p>
          </div>
          <div class="step" id="step4">
            <p>By the time TikTok took them down, the videos had been viewed thousands of times.</p>
          </div>
        </div>
    </section>

<!-- title graphic -->
<div class="header">
    <div class="header with-image-bg">
        <div class="header-text">
            <h1>Election Deepfakes</h1>
            <h3>AI-Generated Elections Content Slipping Through the Cracks of TikTok’s Labeling Initiative</h3>
                <div class="byline">
                    <p>By Katrina Ventura</p>
                    <p>August 14, 2024</p>
                </div>
        </div>
    </div>
</div>

    <div class="content">
        <p>This is one of many ways AI technology has been used to spread misinformation about the 2024 elections. Presidents Joe Biden and Donald Trump - and now Harris - have been the subject of many AI-generated TikTok viral moments which could easily shift from harmless tomfoolery to outright election threats.</p>

        <p>The extent of how much this is happening changes day to day in the ever-morphing world of social media but a snapshot of the multiple types of AI-generated election TikToks emerged in an analysis by Columbia University Graduate School of Journalism.</p>  
        
        <p>An analysis of around 600 TikToks that contain the hashtags AIBiden or AITrump showed that 37% were gaming memes, 36% were deepfakes, and 18% were song covers.</p>
    </div>
    
<!-- bubble.js -->
<section id="scrolly-bubbles">
    <div class="sticky-thing">
        <div id="graphic"></div>
    </div>
    <div class="steps-container">
        <div class ="step" data-step="0" id="step1">
            <p>Over 500 TikToks had the hashtags #AIBiden or #AITrump.</p>
        </div>
        <div class="step" data-step="1">
            <p>217 TikToks showed parodies of Biden and Trump playing video games.</p>
        </div>
        <div class="step" data-step="2">
            <p>While 231 TikToks were digitally altered images or videos, also known as deepfakes.</p>
        </div>
        <div class="step" data-step="3">
            <p>And 119 TikToks used the AI-generated voices of Biden and Trump singing for various song covers.</p>
        </div>
        <div class="step" data-step="4" id="step4">
            <p>The rest were either TikTokers commenting on the AI-generated content or random videos using the hashtags.</p>
        </div>
    </div>
</section>

    <div class="content">
        <p>Unlike in previous elections, the growing scope of misinformation stands out in 2024 as never before, as millions of social media users have the opportunity to pass manipulated content around the digital world at the click of a mouse.
        </p>

        <p>Judy Muller,  a retired professor from the USC Annenberg School of Journalism, said while the videos appear to be primitive fakes, AI is already so much ahead that efforts to combat the spread of disinformation might be too little too late.</p>

        <p>“I think the horse has left the barn,” said Muller. “These are some of the most primitive fakes that I've seen and honestly they're better already.”</p>

        <p>In one <a href='https://www.tiktok.com/@mrsfozz/video/7373385814803336481?lang=en'>deepfake TikTok of Biden</a> posted by the account Mrs. Fozz, the President addresses the nation from inside the oval office and admits to being the mastermind behind Trump’s “hush money” criminal trial. While the video does show signs of digitally manipulated content — as Biden’s face appears blurry and the voice is not in sync, it is not until Biden says “Psych! Who the f*ck am I kidding folks,” that viewers can be sure that it is not real.
        </p>

        <p>“All you're feeding them is more, so-called evidence to show that ‘look what Biden said’”, said Muller. “He didn't say it, but I believe it because I want to be right.”</p>

        <p>TikTok, which has been the subject of Congressional hearings and is under pressure to divest itself from its Chinese parent company ByteDance, has charged forward with efforts to flag fake AI-generated content.</p>

        <p>Maurice Turner, a public interest technologist and cybersecurity expert on TikTok’s Global Public Policy Team, said over 98% of election related deceptive content is taken down by the system even before it gets flagged.</p>

        <p>“We do things like have machine-based processes as well as human-based processes for detecting and being able to evaluate content that we suspect might be deceptive,” said Turner.</p>

        <p>TikTok took down deepfake videos of Harris sounding incoherent soon after it went viral on the platform. But more deepfakes of Harris continued to show up in X, and TikTok. One of them was a parody ad reposted by X owner Elon Musk which features an AI voiceover of Harris calling herself the “ultimate diversity hire.”</p>

        <p>Despite TikTok's efforts to properly label AI-generated content, only 12% of the TikToks in the analysis had the "Made with AI" label.<p> 

        <p>Calls to regulate the use of the use of artificial intelligence in social media platforms have strengthened in Congress. Federal regulators have begun their crackdown on deepfake technology impersonating politicians after a robocall of Biden told democrats not to participate in the primary election in New Hampshire.</p>
    </div>

    <figure class="figure">
        <div class="video-container">
            <video class="custom-video" src="assets/samples/biden-psa.mp4"></video>
            <button class="play-button">▶</button>
        </div>
        <figcaption>
            <p><a href="https://www.tiktok.com/@mrsfozz/video/7373385814803336481">TikTok uploaded by @mrsfozz</a></p>
            <span>A deepfake video of Biden telling the public that he had Trump arrested and taken to a secret prison.</span>
        </figcaption>
    </figure>

    <div class="content">
        <p>Election fakery is not new, it has been the stuff of negative campaigning for centuries. Muller's <a href="https://www.pbssocal.org/shows/socal-connected/clip/the-long-and-dirty-history-of-political-ad-campaigns">research</a> goes as far back as the 1800's when Thomas Jefferson's supporters called John Adams a monarchist.</p>

        <p>But the speed and reach of AI-generated content is unprecedented. The 2024 Elections is the first time that anyone has access to artificial intelligence tools that can create fake videos, images, and audio which can be pushed out to millions of viewers online.</p>
        
        <p>Recent U.S. Elections have also shown how social media can be used to spread misinformation. In 2016, digital consultant, Cambridge Analytica, misused the data of millions of Facebook users for Trump’s presidential campaign. While in 2020, intelligence officials have reportedly found that Russia is interfering in the elections to try to support Trump’s reelection. </p>

        <p>Beatriz Saab, a digital democracy researcher at Democracy Reporting International, released a <a href="https://www.ned.org/manufacturing-deceit-how-generative-ai-supercharges-information-manipulation/">report</a> on the ways in which generative AI has been used by authoritarians to manufacture deceit. Saab says generative AI has been used to create deepfakes of around events that are taking place in order to reinforce certain beliefs or fears.</p>

        <p>“So they try to get a real incident and they manipulate the reality by adding elements or false images around something that really existed,” said Saab.</p>

        <p>Deepfake images of Trump as a prisoner have been circulating on social media. The images show Trump in an orange jumpsuit, looking like an inmate and posing for fake mugshots.</p>

        <p>But like many AI-generated content on TikTok, the fake image of Trump has been imbued with humor.</p>
    </div>
    
    <figure class="figure">
        <div class="video-container">
            <video class="custom-video" src="assets/samples/trump-rapping.mp4"></video>
            <button class="play-button">▶</button>
        </div>
        <figcaption>
            <p><a href="https://www.tiktok.com/@st0l3nm3memes/video/7271671808980536618">TikTok uploaded by @st0l3nm3memes</a></p>
            <span>A deepfake audio of Trump rapping about his time in prison.</span>
        </figcaption>
    </figure>

    <div class="content">
        <p> Saab said some studies have shown how satire has been used to seed harmful ideas such as online gender-based violence.</p>
    
        <p>“We do see that there are some studies that show how malicious actors used humor as a way to get past the platform guidelines,” said Saab. </p>

        <p>TikTok as an entertainment platform has been known for creating dance challenges and making viral sounds. By packaging the TikToks as parodies, the AI-generated content has been able to bypass the platform’s guidelines on misleading content.</p>
    </div>

    <!-- Talk about the different categories again and then show graph AI2HTML -->
    <!-- <figure class="figure">
        <div class="image-container">
        <img src="assets/graphs/data.png">
        </div>
        <figcaption>
            <span>Source: Columbia University Graduate School of Journalism</span>
            <p>Graph showing the distribution of AI-generated content on TikTok.</p>
        </figcaption>
    </figure> -->

    <div class="content">
     <h2>AI Presidents Gamer Memes</h2>

     <p>In the analysis, the most common type of AI-generated content was gamer memes. The videos showed Biden and Trump playing video games and making jokes about each other.</p>

     <p>Videos of the presidents as gamers started showing up in February 2023, when the account @presidentialdeepfakes posted a video of Biden and Trump hanging out at the amusement park. The video was viewed over 8 million times and other TikTokers started copying the format.</p>

    </div>

    <div class="content">
        <p>The TikTok videos typically follow a consistent format: a split-screen presentation where the top half displays edited images of Presidents Joe Biden, Donald Trump, and Barack Obama wearing gaming headsets and the bottom half shows footage from an actual video game.</p>
           
        <p>While the videos are meant to be funny, they contain politically charged commentary. In one video of Presidential Deepfakes, Biden and Trump are shown playing an immersive football game called Madden NFL which quickly turns into political trash-talk.</p>

        <!-- <figure class="quote">
            <blockquote>
                <p><strong>TRUMP:</strong> Joe you are just mad I'm a better Madden player and president than you.</p>
                <p><strong>BIDEN:</strong> The only thing you are better at than me is evading taxes you f*cking imbecile.</p>
            </blockquote>
            <figcaption>Snippet from Presidential Deepfakes TikTok</figcaption>
        </figure> -->

        <figure class="figure">
            <div class="video-container">
                <video class="custom-video" src="assets/samples/aipresidents.mp4"></video>
                <button class="play-button">▶</button>
            </div>
            <figcaption>
                <p><a href="https://www.tiktok.com/@presidentialdeepfakes/video/7202767199184932139">TikTok uploaded by @presidentialdeepfakes</a></p>
                <span>A parody video of Biden and Trump playing Madden NFL.</span>
            </figcaption>
        </figure>

        <p>Jessica Maddox, an assistant professor of digital media at the University of Alabama who has done extensive research into the creator economy on TikTok said one characteristic that makes this kind of video more engaging is its universal appeal.</p>

        <p>“Anybody could kind of get what they want out of that video whether you're a conservative or liberal,” said Maddox. “There's so much lack of context that it could be humor, it could be serious. Somebody could hide behind just kidding.”</p>
 

    <div class="footer">
        <p>Footer</p>
    </div>

<!-- scripts -->

<script>

document.addEventListener('DOMContentLoaded', function() {
    const videoContainers = document.querySelectorAll('.video-container');

    videoContainers.forEach(container => {
        const video = container.querySelector('.custom-video');
        const playButton = container.querySelector('.play-button');

        playButton.addEventListener('click', function() {
            if (video.paused) {
                video.play();
                playButton.textContent = '❚❚'; // Change to pause symbol
            } else {
                video.pause();
                playButton.textContent = '▶'; // Change back to play symbol
            }
        });

        video.addEventListener('play', function() {
            playButton.style.opacity = '0';
        });

        video.addEventListener('pause', function() {
            playButton.style.opacity = '1';
            playButton.textContent = '▶';
        });

        video.addEventListener('ended', function() {
            playButton.style.opacity = '1';
            playButton.textContent = '▶';
        });
    });
});

//     // Play and pause video
//     document.addEventListener('DOMContentLoaded', function() {
//     const video = document.getElementById('myVideo');
//     const playButton = document.getElementById('playButton');

//     playButton.addEventListener('click', function() {
//         if (video.paused) {
//             video.play();
//             playButton.textContent = '❚❚'; // Change to pause symbol
//         } else {
//             video.pause();
//             playButton.textContent = '▶'; // Change back to play symbol
//         }
//     });

//     video.addEventListener('play', function() {
//         playButton.style.opacity = '0';
//     });

//     video.addEventListener('pause', function() {
//         playButton.style.opacity = '1';
//         playButton.textContent = '▶';
//     });
// });
</script>


<script>
    /* // video scrolly */
    (() => {
    const scroller = scrollama()
    let currentAudio = null;
    
    scroller
    .setup({
    parent: document.querySelector("#scrolly-videos"),
    step: ".step",
    offset: 0.8,
    debug: false,
    })
    .onStepEnter(function ({ element, index, direction }) {
    const event = new CustomEvent("stepin", { detail: { direction: direction } })
    element.dispatchEvent(event)
    
    // Play the video when entering the step
    const video = element.querySelector('video')
    if (video) {
        video.play()
    }
    })
    .onStepExit(function ({ element, index, direction }) {
    const event = new CustomEvent("stepout", { detail: { direction: direction } })
    element.dispatchEvent(event)
    
    // Pause the video when exiting the step
    const video = element.querySelector('video')
    if (video) {
        video.pause()
    }

    // Stop audio if it's playing
    if (currentAudio) {
            currentAudio.pause()
            currentAudio.currentTime = 0
            currentAudio = null
        }
    
    if (direction === "up" && element.previousElementSibling) {
        const prevEvent = new CustomEvent("stepin", { detail: { direction: direction } })
        element.previousElementSibling.dispatchEvent(prevEvent)
        
        // Play the video of the previous step when scrolling up
        const prevVideo = element.previousElementSibling.querySelector('video')
        if (prevVideo) {
        prevVideo.play()
        }
    }
    })
    
    window.addEventListener("resize", scroller.resize)
    })()
    
    d3.select("#step1").on('stepin', (e) => {
      const container = d3.select(e.target.closest(".scrolly-container"));
      container.select("img").attr("src", "assets/harris-videos/harris-1.mp4").style("display", "block");
      container.select("video").style("display", "none");
    })

    d3.select("#step2").on('stepin', (e) => {
        const container = d3.select(e.target.closest(".scrolly-container"));
        container.select("img").style("display", "none");
        const video = container.select("video")
            .attr("src", "assets/harris-videos/harris-1.mp4")
            .style("display", "block");
        video.node().play();

        // Add and play audio
        let audio = container.select("audio");
        if (audio.empty()) {
            audio = container.append("audio").attr("src", "assets/harris-videos/harris.mp3");
        } else {
            audio.attr("src", "assets/harris.mp3");
        }
        currentAudio = audio.node();
        currentAudio.play().catch(e => console.error("Error playing audio:", e));
    })
    
    d3.select("#step3").on('stepin', (e) => {
      const container = d3.select(e.target.closest(".scrolly-container"));
      container.select("img").style("display", "none");
      const video = container.select("video")
        .attr("src", "assets/harris-videos/harris-2.mp4")
        .style("display", "block");
      video.node().play();
    })
    
    d3.select("#step4").on('stepin', (e) => {
      const container = d3.select(e.target.closest(".scrolly-container"));
    })

</script>


<script>
    // Load the dataset
    d3.csv('data-viz.csv').then(loadData);
    
    // Define the width and height of the SVG
    var width = 900;
    var height = 900;
    
    // Define the size of the rectangles
    var rectWidth = 27;
    var rectHeight = 48;
    
    // Create the force simulation
    var simulation = d3.forceSimulation();
    
    // Create the SVG
    var svg = d3.select('#graphic')
                .append('svg')
                .attr('width', width)
                .attr('height', height)
                .append('g');
    console.log("SVG created:", svg.node());
    
    // Load the data
    function loadData(data) {
        console.log(data);
    
        // Create the defs for patterns
        var defs = svg.append('defs');
    
        function updatePatterns(filteredData) {
            defs.selectAll(".video-image")
                .data(filteredData, d => d.id)
                .join(
                    enter => enter.append("pattern")
                        .attr("class", "video-image")
                        .attr('id', d => d.id)
                        .attr('height', '100%')
                        .attr('width', '100%')
                        .attr('patternContentUnits', 'objectBoundingBox')
                        .append('image')
                        .attr('href', 'tiktok.png')
                        .attr('width', 1)
                        .attr('height', 1)
                        .attr('preserveAspectRatio', 'none'),
                    update => update,
                    exit => exit.remove()
                );
        }
    
        function updateRectangles(filteredData) {
            console.log("Updating rectangles with data:", filteredData);
            return svg.selectAll(".bubble")
                .data(filteredData, d => d.id)
                .join(
                    enter => {
                        console.log("Entering new elements:", enter.size());
                        return enter.append("rect")
                                    .attr('class', 'bubble')
                                    .attr('width', rectWidth)
                                    .attr('height', rectHeight)
                                    .attr('fill', d => `url(#${d.id})`)
                                    .attr('opacity', 0)
                                    .attr('x', d => Math.random() * width) // Random initial x position
                                    .attr('y', d => Math.random() * height); // Random initial y position
                
                    },
                    update => {
                        console.log("Updating elements:", update.size());
                        return update;
                    }
                );
        }
    
    // Adjust these values to control the compactness of the bubble
    var centerStrength = 0.1;  // Reduced to allow for smoother expansion
    var collideStrength = 0.025; // Increased to maintain separation between elements
    
    // Set up forces
    simulation
        .force('x', d3.forceX(width / 2).strength(centerStrength))
        .force('y', d3.forceY(height / 2).strength(centerStrength))
        .force('collide', d3.forceCollide().radius(() => Math.sqrt((rectWidth/2)**2 + (rectHeight/2)**2) + 1).strength(collideStrength));
    
    function updateVisualization(filteredData) {
        updatePatterns(filteredData);
        const rects = updateRectangles(filteredData);
    
         // Initialize positions for new nodes
         filteredData.forEach(d => {
            if (d.x === undefined || d.y === undefined) {
                d.x = Math.random() * width;
                d.y = Math.random() * height;
            }
        });
    
        // Gradually increase the center force strength
        let currentCenterStrength = 0.01;
        const targetCenterStrength = 0.1;
        const strengthIncrement = (targetCenterStrength - currentCenterStrength) / 30; // 60 fps for 1 second
    
        // Update existing rectangles
        rects.attr('x', d => d.x)
             .attr('y', d => d.y);
    
        // Transition for new rectangles
        rects.transition()
            .duration(500)
            .attr('opacity', 0.7)
    
        // Adjust the simulation to accommodate the growing bubble
        simulation.nodes(filteredData)
            .force('collide', d3.forceCollide().radius(() => Math.sqrt((rectWidth/2)**2 + (rectHeight/2)**2) + 1).strength(collideStrength))
            .force('center', d3.forceCenter(width / 2, height / 2).strength(currentCenterStrength))
            .alpha(1)
            .restart();
    
        // Gradually adjust the center force and cool down the simulation
        let timer = d3.timer((elapsed) => {
            currentCenterStrength = Math.min(currentCenterStrength + strengthIncrement, targetCenterStrength);
            simulation.force('center').strength(currentCenterStrength);
            
            if (elapsed > 1000) { // Stop after 1 second
                timer.stop();
                simulation.alpha(0.1).alphaDecay(0.02); // Cool down simulation
            }
        });
    
        simulation.on('tick', ticked);
    }
    
    function ticked() {
        svg.selectAll(".bubble")
            .attr('x', d => Math.max(0, Math.min(width - rectWidth, d.x - rectWidth / 2)))
            .attr('y', d => Math.max(0, Math.min(height - rectHeight, d.y - rectHeight / 2)));
    }
    
        // Initialize with empty data
        let allData = []; // Store all data
    
        // Set up Scrollama
        const scroller = scrollama();
    
        scroller
            .setup({
                step: '.step',
                offset: 0.5,
                debug: false
            })
            .onStepEnter(response => {
                console.log("Step entered:", response.index, response.direction);
                const step = response.element.dataset.step;
    
                if (step === "0") {
                allData = [];
            } else if (step === "1") {
                allData = data.filter(d => d.gamer.toUpperCase() === 'TRUE');
            } else if (step === "2") {
                allData = data.filter(d => d.gamer.toUpperCase() === 'TRUE' || d.deepfakes.toUpperCase() === 'TRUE');
            } else if (step === "3") {
                allData = data.filter(d => d.gamer.toUpperCase() === 'TRUE' || d.deepfakes.toUpperCase() === 'TRUE' || d.songs.toUpperCase() === 'TRUE');
            } else if (step === "4") {
                allData = [];
            }
            
                
                console.log("Filtered data:", allData.length, "elements");

                updateVisualization(allData);
            });
    
        // Setup resize event
        window.addEventListener('resize', scroller.resize);
    } 
    </script>
</body>
</html>